let alertPlaceholder=document.getElementById("liveAlertPlaceholder");function alert(e,s,a){let t=document.createElement("div");t.innerHTML='<div class="alert alert-'+s+' d-flex align-items-center alert-dismissible mx-auto w_custom" role="alert"><svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img"><use xlink:href="#'+a+'"/></svg>'+e+'<button type="button" class="btn-close" data-bs-dismiss="alert"></button></div>',alertPlaceholder.appendChild(t),setTimeout(function(){t.innerHTML=""},3e3)}!function(){let e=document.getElementById("city"),s=document.getElementById("year"),a=document.getElementById("month"),t=document.getElementById("day"),l=document.getElementsByName("gender_radio"),n=document.getElementById("generate"),d=document.getElementById("card_id"),c=document.getElementById("verify");s.focus(),s.addEventListener("change",function(){if(this.classList.contains("is-valid")?this.classList.remove("is-valid"):this.classList.contains("is-invalid")&&this.classList.remove("is-invalid"),""===this.value)return;let e=document.getElementById("year_tip"),s=1*this.value,l=1*a.value,n=1*t.value,d=new Date,c=d.getFullYear(),r=d.getMonth()+1,v=d.getDate();s<1?(e.innerHTML="公元前",this.classList.add("is-invalid")):s<1900?(e.innerHTML="请输入1900后的年份",this.classList.add("is-invalid")):s>c?(e.innerHTML="超过当前年份",this.classList.add("is-invalid")):s===c?l>r||l===r&&n>v?(e.innerHTML="超出当前时间",this.classList.add("is-invalid")):this.classList.add("is-valid"):2===l&&29===n?s%4==0&&s%100!=0||s%400==0?this.classList.add("is-valid"):(e.innerHTML="这不是闰年",this.classList.add("is-invalid")):this.classList.add("is-valid")}),a.addEventListener("change",function(){if(this.classList.contains("is-valid")?this.classList.remove("is-valid"):this.classList.contains("is-invalid")&&this.classList.remove("is-invalid"),""===this.value)return;let e=document.getElementById("month_tip"),a=1*s.value,l=1*this.value,n=1*t.value,d=new Date,c=d.getFullYear(),r=d.getMonth()+1;if(l<1||l>12)e.innerHTML="请重新输入月份",this.classList.add("is-invalid");else if(n>28)switch(l){case 2:""===s.value||a%4==0&&a%100!=0||a%400==0?n>29?(e.innerHTML="请重新输入日期",this.classList.add("is-invalid")):this.classList.add("is-valid"):(e.innerHTML="这不是闰年",this.classList.add("is-invalid"));break;case 4:case 6:case 9:case 11:n>30?(e.innerHTML="该月仅有30天",this.classList.add("is-invalid")):this.classList.add("is-valid");break;default:this.classList.add("is-valid")}else a===c&&l>r?(e.innerHTML="超出当前时间",this.classList.add("is-invalid")):this.classList.add("is-valid")}),t.addEventListener("change",function(){if(this.classList.contains("is-valid")?this.classList.remove("is-valid"):this.classList.contains("is-invalid")&&this.classList.remove("is-invalid"),""===this.value)return;let e=document.getElementById("day_tip"),t=1*this.value,l=1*a.value,n=1*s.value,d=new Date,c=d.getFullYear(),r=d.getMonth()+1,v=d.getDate();if(t<1||t>31)e.innerHTML="请重新输入日期",this.classList.add("is-invalid");else if(t>28)switch(l){case 2:""===s.value||n%4==0&&n%100!=0||n%400==0?t>29?(e.innerHTML="请重新输入日期",this.classList.add("is-invalid")):this.classList.add("is-valid"):(e.innerHTML="这不是闰年",this.classList.add("is-invalid"));break;case 4:case 6:case 9:case 11:t>30?(e.innerHTML="该月仅有30天",this.classList.add("is-invalid")):this.classList.add("is-valid");break;default:this.classList.add("is-valid")}else n===c&&l===r&&t>v?(e.innerHTML="超出当前时间",this.classList.add("is-invalid")):this.classList.add("is-valid")}),n.addEventListener("click",function(){let n=document.querySelectorAll(".alert");if([].slice.call(n).map(function(e){return new bootstrap.Alert(e)}).map(function(e){e.close()}),s.classList.contains("is-invalid")||a.classList.contains("is-invalid")||t.classList.contains("is-invalid"))setTimeout('alert("请检查您输入的选项是否正确", "warning", "exclamation-triangle-fill")',300);else{let c=e.value;""!==s.value?c+=([,,,,].join(0)+parseInt(s.value)).slice(-4):c+="2001",""!==a.value?c+=([,,].join(0)+parseInt(a.value)).slice(-2):c+="01",""!==t.value?c+=([,,].join(0)+parseInt(t.value)).slice(-2):c+="01";let r;for(i=0;i<l.length;i++)l[i].checked&&(r=l[i].value);let v;if("female"===r)do v=Math.floor(999*Math.random());while(v%2>0);else do v=Math.floor(999*Math.random());while(v%2==0);let h=7*(c+=([,,,].join(0)+parseInt(v.toString())).slice(-3))[0]+9*c[1]+10*c[2]+5*c[3]+8*c[4]+4*c[5]+2*c[6]+1*c[7]+6*c[8]+3*c[9]+7*c[10]+9*c[11]+10*c[12]+5*c[13]+8*c[14]+4*c[15]+2*c[16];switch(h%11){case 0:c+="1";break;case 1:c+="0";break;case 2:c+="X";break;case 3:c+="9";break;case 4:c+="8";break;case 5:c+="7";break;case 6:c+="6";break;case 7:c+="5";break;case 8:c+="4";break;case 9:c+="3";break;case 10:c+="2"}d.value=c,setTimeout('alert("生成成功！", "success", "check-circle-fill")',300)}}),c.addEventListener("click",function(){let e=document.querySelectorAll(".alert");[].slice.call(e).map(function(e){return new bootstrap.Alert(e)}).map(function(e){e.close()});let s=d.value;if(0==s.length)setTimeout('alert("待校验身份证号为空", "warning", "exclamation-triangle-fill")',300);else if(18==s.length){let a=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],t="X"==s.charAt(17).toUpperCase()?10:parseInt(s.charAt(17)),l=0;for(var n=0;n<a.length;n++)l+=s.charAt(n)*a[n];(t+l-1)%11==0?setTimeout('alert("校验通过", "success", "check-circle-fill")',300):setTimeout('alert("校验不通过", "warning", "exclamation-triangle-fill")',300)}else setTimeout('alert("身份证号位数有误", "warning", "exclamation-triangle-fill")',300)})}();